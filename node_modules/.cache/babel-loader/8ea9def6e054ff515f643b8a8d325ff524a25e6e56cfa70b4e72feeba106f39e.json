{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\HP\\\\Desktop\\\\mann-app\\\\src\\\\components\\\\MoodChart.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\nimport { db } from \"../firebase\";\nimport { collection, query, orderBy, onSnapshot } from \"firebase/firestore\";\nimport { Line } from \"react-chartjs-2\";\nimport { Chart as ChartJS, CategoryScale, LinearScale, PointElement, LineElement, Title, Tooltip, Legend } from \"chart.js\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nChartJS.register(CategoryScale, LinearScale, PointElement, LineElement, Title, Tooltip, Legend);\nexport default function MoodChart() {\n  _s();\n  const [moods, setMoods] = useState([]);\n  useEffect(() => {\n    const q = query(collection(db, \"moods\"), orderBy(\"createdAt\"));\n    const unsubscribe = onSnapshot(q, querySnapshot => {\n      const items = [];\n      querySnapshot.forEach(doc => {\n        items.push({\n          id: doc.id,\n          ...doc.data()\n        });\n      });\n      setMoods(items);\n    });\n    return () => unsubscribe();\n  }, []);\n\n  // Prepare data for chart\n  const chartData = {\n    labels: moods.map(m => {\n      var _m$createdAt;\n      return ((_m$createdAt = m.createdAt) === null || _m$createdAt === void 0 ? void 0 : _m$createdAt.toDate().toLocaleDateString()) || \"\";\n    }),\n    datasets: [{\n      label: \"Mood Entries\",\n      data: moods.map(m => moodToScore(m.mood)),\n      borderColor: \"rgba(75,192,192,1)\",\n      fill: false,\n      tension: 0.1\n    }]\n  };\n\n  // Convert mood label to numeric score for chart\n  function moodToScore(mood) {\n    const normalized = mood.toLowerCase();\n    switch (normalized) {\n      case \"happy\":\n        return 5;\n      case \"excited\":\n        return 4;\n      case \"neutral\":\n        return 3;\n      case \"sad\":\n        return 2;\n      case \"angry\":\n        return 1;\n      default:\n        return 3;\n    }\n  }\n  const options = {\n    responsive: true,\n    plugins: {\n      legend: {\n        position: \"top\"\n      },\n      title: {\n        display: true,\n        text: \"Mood Trends Over Time\"\n      }\n    },\n    scales: {\n      y: {\n        min: 0,\n        max: 5,\n        ticks: {\n          stepSize: 1\n        },\n        title: {\n          display: true,\n          text: \"Mood Score (1-5)\"\n        }\n      }\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(Line, {\n    data: chartData,\n    options: options\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 93,\n    columnNumber: 10\n  }, this);\n}\n_s(MoodChart, \"JVKzjhX8h3SP8t7rweTnWo8V/R0=\");\n_c = MoodChart;\nvar _c;\n$RefreshReg$(_c, \"MoodChart\");","map":{"version":3,"names":["React","useEffect","useState","db","collection","query","orderBy","onSnapshot","Line","Chart","ChartJS","CategoryScale","LinearScale","PointElement","LineElement","Title","Tooltip","Legend","jsxDEV","_jsxDEV","register","MoodChart","_s","moods","setMoods","q","unsubscribe","querySnapshot","items","forEach","doc","push","id","data","chartData","labels","map","m","_m$createdAt","createdAt","toDate","toLocaleDateString","datasets","label","moodToScore","mood","borderColor","fill","tension","normalized","toLowerCase","options","responsive","plugins","legend","position","title","display","text","scales","y","min","max","ticks","stepSize","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/HP/Desktop/mann-app/src/components/MoodChart.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { db } from \"../firebase\";\r\nimport { collection, query, orderBy, onSnapshot } from \"firebase/firestore\";\r\nimport { Line } from \"react-chartjs-2\";\r\nimport {\r\n  Chart as ChartJS,\r\n  CategoryScale,\r\n  LinearScale,\r\n  PointElement,\r\n  LineElement,\r\n  Title,\r\n  Tooltip,\r\n  Legend\r\n} from \"chart.js\";\r\n\r\nChartJS.register(\r\n  CategoryScale,\r\n  LinearScale,\r\n  PointElement,\r\n  LineElement,\r\n  Title,\r\n  Tooltip,\r\n  Legend\r\n);\r\n\r\nexport default function MoodChart() {\r\n  const [moods, setMoods] = useState([]);\r\n\r\n  useEffect(() => {\r\n    const q = query(collection(db, \"moods\"), orderBy(\"createdAt\"));\r\n    const unsubscribe = onSnapshot(q, (querySnapshot) => {\r\n      const items = [];\r\n      querySnapshot.forEach((doc) => {\r\n        items.push({ id: doc.id, ...doc.data() });\r\n      });\r\n      setMoods(items);\r\n    });\r\n\r\n    return () => unsubscribe();\r\n  }, []);\r\n\r\n  // Prepare data for chart\r\n  const chartData = {\r\n    labels: moods.map((m) =>\r\n      m.createdAt?.toDate().toLocaleDateString() || \"\"\r\n    ),\r\n    datasets: [\r\n      {\r\n        label: \"Mood Entries\",\r\n        data: moods.map((m) => moodToScore(m.mood)),\r\n        borderColor: \"rgba(75,192,192,1)\",\r\n        fill: false,\r\n        tension: 0.1\r\n      }\r\n    ]\r\n  };\r\n\r\n  // Convert mood label to numeric score for chart\r\n  function moodToScore(mood) {\r\n    const normalized = mood.toLowerCase();\r\n    switch (normalized) {\r\n      case \"happy\":\r\n        return 5;\r\n      case \"excited\":\r\n        return 4;\r\n      case \"neutral\":\r\n        return 3;\r\n      case \"sad\":\r\n        return 2;\r\n      case \"angry\":\r\n        return 1;\r\n      default:\r\n        return 3;\r\n    }\r\n  }\r\n\r\n  const options = {\r\n    responsive: true,\r\n    plugins: {\r\n      legend: { position: \"top\" },\r\n      title: { display: true, text: \"Mood Trends Over Time\" }\r\n    },\r\n    scales: {\r\n      y: {\r\n        min: 0,\r\n        max: 5,\r\n        ticks: { stepSize: 1 },\r\n        title: { display: true, text: \"Mood Score (1-5)\" }\r\n      }\r\n    }\r\n  };\r\n\r\n  return <Line data={chartData} options={options} />;\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}